(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-changePw"],{1079:function(t,e,a){"use strict";a.r(e);var s=a("ae45"),n=a("6566");for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);var i,r=a("f0c5"),c=Object(r["a"])(n["default"],s["b"],s["c"],!1,null,"ff8ccf98",null,!1,s["a"],i);e["default"]=c.exports},6566:function(t,e,a){"use strict";a.r(e);var s=a("c758"),n=a.n(s);for(var o in s)"default"!==o&&function(t){a.d(e,t,(function(){return s[t]}))}(o);e["default"]=n.a},ae45:function(t,e,a){"use strict";var s={cuCustom:a("2e8a").default,evanForm:a("b36d").default,evanFormItem:a("1573").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"changePw clearfix lh1"},[a("cu-custom",{attrs:{bgColor:"bg-navBg",isBack:!0}},[a("template",{attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.i18n.title))])],2),a("v-uni-form",{staticClass:"block clearfix"},[a("evan-form",{ref:"form",attrs:{"hide-required-asterisk":!0,model:t.form}},[a("evan-form-item",[a("v-uni-view",{staticClass:"h45 radius-5 mx15 px10 flex-text bg-background mt10",attrs:{slot:"formItem"},slot:"formItem"},[a("v-uni-view",{staticClass:"f13 wp20"},[t._v(t._s(t.i18n.text[0]))]),a("v-uni-input",{staticClass:"flex-1 f13",attrs:{type:"number",maxlength:"11",disabled:!0,placeholder:t.i18n.placeholder[0],"placeholder-class":"color-placeholder"},model:{value:t.userInfo.mobile,callback:function(e){t.$set(t.userInfo,"mobile","string"===typeof e?e.trim():e)},expression:"userInfo.mobile"}})],1)],1),a("evan-form-item",{attrs:{prop:"account"}},[a("v-uni-view",{staticClass:"h45 radius-5 mx15 px10 flex-text bg-background mt10",attrs:{slot:"formItem"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showModal.apply(void 0,arguments)}},slot:"formItem"},[a("v-uni-view",{staticClass:"f13 wp20"},[t._v(t._s(t.i18n.text[1]))]),a("v-uni-input",{staticClass:"flex-1 f13",attrs:{type:"text",disabled:!0,placeholder:t.i18n.placeholder[1],"placeholder-class":"color-placeholder"},model:{value:t.form.account,callback:function(e){t.$set(t.form,"account","string"===typeof e?e.trim():e)},expression:"form.account"}}),a("v-uni-text",{staticClass:"f20 cuIcon-triangledownfill"})],1)],1),a("evan-form-item",{attrs:{prop:"code"}},[a("v-uni-view",{staticClass:"h45 radius-5 mx15 px10 flex-text bg-background mt10",attrs:{slot:"formItem"},slot:"formItem"},[a("v-uni-view",{staticClass:"f13 wp20"},[t._v(t._s(t.i18n.text[2]))]),a("v-uni-input",{staticClass:"flex-1 f13",attrs:{type:"number",placeholder:t.i18n.placeholder[2],"placeholder-class":"color-placeholder"},model:{value:t.form.code,callback:function(e){t.$set(t.form,"code","string"===typeof e?e.trim():e)},expression:"form.code"}}),a("v-uni-view",{staticClass:"f12",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getCode.apply(void 0,arguments)}}},[t._v(t._s(t.codeText))])],1)],1),a("evan-form-item",{attrs:{prop:"newPassword"}},[a("v-uni-view",{staticClass:"h45 radius-5 mx15 px10 flex-text bg-background mt10",attrs:{slot:"formItem"},slot:"formItem"},[a("v-uni-view",{staticClass:"f13 wp20"},[t._v(t._s(t.i18n.text[3]))]),a("v-uni-input",{staticClass:"flex-1 f13",attrs:{type:"text",password:!0,maxlength:0==t.type?"16":"6",placeholder:t.i18n.tip[t.type],"placeholder-class":"color-placeholder"},model:{value:t.form.newPassword,callback:function(e){t.$set(t.form,"newPassword","string"===typeof e?e.trim():e)},expression:"form.newPassword"}})],1)],1),a("evan-form-item",{attrs:{prop:"qPassword"}},[a("v-uni-view",{staticClass:"h45 radius-5 mx15 px10 flex-text bg-background mt10",attrs:{slot:"formItem"},slot:"formItem"},[a("v-uni-view",{staticClass:"f13 wp20"},[t._v(t._s(t.i18n.text[4]))]),a("v-uni-input",{staticClass:"flex-1 f13",attrs:{type:"text",password:!0,maxlength:0==t.type?"16":"6",placeholder:t.i18n.placeholder[4],"placeholder-class":"color-placeholder"},model:{value:t.form.qPassword,callback:function(e){t.$set(t.form,"qPassword","string"===typeof e?e.trim():e)},expression:"form.qPassword"}})],1)],1)],1),a("v-uni-button",{staticClass:"h45 f15 flex-text bg-theme color-black mx20 mt30",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.formValidate.apply(void 0,arguments)}}},[t._v(t._s(t.i18n.btnTxt))])],1),a("v-uni-view",{staticClass:"cu-modal bottom-modal",class:"bottomModal"==t.modalName?"show":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.HideModal.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"cu-dialog bg-transparent",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[a("v-uni-view",{staticClass:"mx10"},[a("v-uni-view",{staticClass:"bg-background radius-5 px10"},[t.showLoading&&0==t.accountList.length?a("v-uni-view",{staticClass:"h45 flex-text f13"},[a("v-uni-button",{staticClass:"f13 h30 bg-transparent border-none mr-none pl0 pr5",attrs:{loading:!0}}),t._v(t._s(t.i18n.loading))],1):t._e(),t._l(t.accountList,(function(e,s){return a("v-uni-view",{key:s,staticClass:"h45 flex-text border-white-3",class:0!=s?"solid-top":"",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.chooseAccount(e)}}},[t._v(t._s(e.name)+"("+t._s(e.id)+")")])}))],2),a("v-uni-view",{staticClass:"h45 radius-5 bg-background flex-text mt5 mb10",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.HideModal.apply(void 0,arguments)}}},[t._v(t._s(t.i18n.cancel))])],1)],1)],1)],1)},o=[];a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return s}))},c758:function(t,e,a){"use strict";var s=a("ee27");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("96cf");var n=s(a("c964")),o=(a("2f62"),s(a("2e8a"))),i=s(a("b36d")),r=s(a("1573")),c={components:{"cu-custom":o.default,"evan-form":i.default,"evan-form-item":r.default},data:function(){return{type:"",form:{account:"",code:"",newPassword:"",qPassword:""},codeText:"",disabled:!1,count:60,accountList:[],showLoading:!1,id:""}},computed:{rules:function(){return{account:[{required:!0,message:this.i18n.placeholder[1]}],code:[{required:!0,message:this.i18n.placeholder[2]}],newPassword:[{required:!0,message:this.i18n.placeholder[3]},{pattern:0==this.type?this.$pattern.isPassword:this.$pattern.isPayPassword,message:this.i18n.tip[this.type]}],qPassword:[{required:!0,message:this.i18n.placeholder[4]},{pattern:0==this.type?this.$pattern.isPassword:this.$pattern.isPayPassword,message:this.i18n.tip[this.type]}]}}},onLoad:function(t){this.type=t.type,this.codeText=this.i18n.getCode},methods:{getCode:function(){var t=this;return(0,n.default)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.disabled){e.next=2;break}return e.abrupt("return");case 2:return t.disabled=!0,clearInterval(t.time),t.time=setInterval((function(){t.count-=1,t.codeText=t.count+t.i18n.getCodeTime,0===t.count&&(t.count=60,t.disabled=!1,t.codeText=t.i18n.getCode,clearInterval(t.time))}),1e3),e.prev=5,e.next=8,t.$http.post("login.getCode",{mobile:t.userInfo.mobile,num:1},{isAuth:!1,tipConfig:{isLoading:!1}});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](5),t.disabled=!1;case 13:case"end":return e.stop()}}),e,null,[[5,10]])})))()},showModal:function(){var t=this;return(0,n.default)(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.ShowModal("bottomModal"),t.showLoading=!0,e.next=4,t.$http.post("user.getAccount",{mobile:t.userInfo.mobile});case 4:a=e.sent,s=a.list,t.showLoading=!1,t.accountList=s;case 8:case"end":return e.stop()}}),e)})))()},formSubmit:function(){var t=this;return(0,n.default)(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.$utils.num.accAdd,s={type:a(t.type,1),mobile:t.userInfo.mobile,id:t.id,code:t.form.code,newpwd:t.form.newPassword,newpwds:t.form.qPassword},e.next=4,t.$http.post("user.changePw",s,{tipConfig:{isSuccessDefaultTip:!0}});case 4:setTimeout((function(){uni.navigateBack({delta:1})}),800);case 5:case"end":return e.stop()}}),e)})))()},chooseAccount:function(t){this.form.account=t.name,this.id=t.id,this.HideModal()}}};e.default=c}}]);