(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-index"],{"2e0d":function(t,e,n){"use strict";n.r(e);var o=n("73bf3"),a=n.n(o);for(var i in o)"default"!==i&&function(t){n.d(e,t,(function(){return o[t]}))}(i);e["default"]=a.a},"4c9c":function(t,e,n){"use strict";n.r(e);var o=n("f672"),a=n("2e0d");for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);n("a5f7");var s,r=n("f0c5"),l=Object(r["a"])(a["default"],o["b"],o["c"],!1,null,"c364dc48",null,!1,o["a"],s);e["default"]=l.exports},"6d49":function(t,e,n){var o=n("24fb");e=o(!1),e.push([t.i,".z-index-101[data-v-c364dc48]{z-index:101}",""]),t.exports=e},"73bf3":function(t,e,n){"use strict";var o=n("ee27");n("4160"),n("b64b"),n("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("96cf");var a=o(n("c964")),i=o(n("f3f3")),s=n("2f62"),r=o(n("2e8a")),l=o(n("b36d")),c=o(n("1573")),u={data:function(){return{dropdown:!1,active:1,form:{mobile:"",uname:"",password:""},accountList:[],showLoading:!1}},components:{"cu-custom":r.default,"evan-form":l.default,"evan-form-item":c.default},computed:(0,i.default)({},(0,s.mapState)(["users"]),{language:function(){var t=[];if(this.$i18n){var e=this.$i18n.messages;Object.keys(e).forEach((function(n){t.push({name:e[n].name,locale:n})}))}return t},rules:function(){return{mobile:[{required:!0,message:this.i18n.tip[0]},{pattern:this.$pattern.isMobile,message:this.i18n.tip[3]}],uname:[{required:!0,message:this.i18n.tip[1]}],password:[{required:!0,message:this.i18n.tip[2]}]}}}),mounted:function(){},methods:(0,i.default)({},(0,s.mapActions)(["setToken","setUsers"]),{toggleDropdown:function(){this.dropdown=!this.dropdown},selectLanguge:function(t,e){this.active=e,this.$i18n.locale=t.locale,this.$t("tabbar").forEach((function(t,e){uni.setTabBarItem({index:e,text:t})})),this.toggleDropdown()},showModal:function(){var t=this;return(0,a.default)(regeneratorRuntime.mark((function e(){var n,o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.form.mobile){e.next=3;break}return uni.showToast({title:t.i18n.tip[0],icon:"none"}),e.abrupt("return");case 3:if(n=/^1[3|4|5|6|7|8|9][0-9]{9}$/,n.test(t.form.mobile)){e.next=7;break}return uni.showToast({title:t.i18n.tip[3],icon:"none"}),e.abrupt("return");case 7:return t.ShowModal("bottomModal"),t.showLoading=!0,e.next=11,t.$http.post("login.getUser",{mobile:t.form.mobile},{isAuth:!1});case 11:o=e.sent,a=o.data,t.showLoading=!1,t.accountList=a;case 15:case"end":return e.stop()}}),e)})))()},formSubmit:function(){var t=this;return(0,a.default)(regeneratorRuntime.mark((function e(){var n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.post("login.login",t.form,{isAuth:!1});case 2:n=e.sent,o=n.token,t.setToken(o),t.setUsers(t.accountList),t.getUser(),t.$Router.pushTab("/pages/home/index");case 8:case"end":return e.stop()}}),e)})))()},chooseAccount:function(t){this.form.uname=t.name,this.HideModal()},formValidate:function(){this.formSubmit()}})};e.default=u},"8c69":function(t,e,n){var o=n("6d49");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=n("4f06").default;a("59137c9d",o,!0,{sourceMap:!1,shadowMode:!1})},a5f7:function(t,e,n){"use strict";var o=n("8c69"),a=n.n(o);a.a},f672:function(t,e,n){"use strict";var o={cuCustom:n("2e8a").default,evanForm:n("b36d").default,evanFormItem:n("1573").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"login clearfix lh1 hv100 flex-text flex-v"},[n("v-uni-image",{staticClass:"wp100 hv100 fixed fixed-top",attrs:{src:"/static/login-bg.png",mode:""}}),n("cu-custom",{attrs:{bgColor:"justify-end bg-transparent"}},[n("v-uni-view",{staticClass:"change-language mr15 cu-tag border-none bg-transparent",attrs:{slot:"right"},slot:"right"},[n("v-uni-view",{staticClass:"flex-text",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toggleDropdown.apply(void 0,arguments)}}},[n("v-uni-view",[t._v(t._s(t.language[t.active].name))]),n("v-uni-text",{staticClass:"color-white ml5 cuIcon-unfold"})],1),n("v-uni-view",{staticClass:"dropdown bg-background radius-5",class:{show:t.dropdown}},t._l(t.language,(function(e,o){return n("v-uni-view",{key:o,staticClass:"dropdown-item h40 flex-text solid-bottom",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.selectLanguge(e,o)}}},[t._v(t._s(e.name))])})),1)],1)],1),n("v-uni-view",{staticClass:"relative z-index-101 flex-text flex-v wp80 mt-30"},[n("v-uni-image",{staticClass:"block85",attrs:{src:"/static/user/share-logo.png",mode:""}}),n("v-uni-form",{staticClass:"block clearfix wp100 mt40"},[n("evan-form",{ref:"form",attrs:{"hide-required-asterisk":!0,model:t.form}},[n("evan-form-item",{attrs:{prop:"mobile"}},[n("v-uni-view",{staticClass:"h45 radius-5 mx15 px10 flex-text solid-bottom border-white-3 mt10",attrs:{slot:"formItem"},slot:"formItem"},[n("v-uni-input",{staticClass:"flex-1 f13",attrs:{type:"number",maxlength:"11",placeholder:t.i18n.placeholder[0],"placeholder-class":"color-placeholder"},model:{value:t.form.mobile,callback:function(e){t.$set(t.form,"mobile","string"===typeof e?e.trim():e)},expression:"form.mobile"}})],1)],1),n("evan-form-item",{attrs:{prop:"uname"}},[n("v-uni-view",{staticClass:"h45 radius-5 mx15 px10 flex-text solid-bottom border-white-3 mt10",attrs:{slot:"formItem"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showModal.apply(void 0,arguments)}},slot:"formItem"},[n("v-uni-input",{staticClass:"flex-1 f13",attrs:{type:"text",disabled:!0,placeholder:t.i18n.placeholder[1],"placeholder-class":"color-placeholder"},model:{value:t.form.uname,callback:function(e){t.$set(t.form,"uname","string"===typeof e?e.trim():e)},expression:"form.uname"}}),n("v-uni-text",{staticClass:"f20 cuIcon-triangledownfill",class:t.form.account?"":"color-white-5"})],1)],1),n("evan-form-item",{attrs:{prop:"password"}},[n("v-uni-view",{staticClass:"h45 radius-5 mx15 px10 flex-text solid-bottom border-white-3 mt10",attrs:{slot:"formItem"},slot:"formItem"},[n("v-uni-input",{staticClass:"flex-1 f13",attrs:{type:"text",password:!0,maxlength:"16",placeholder:t.i18n.placeholder[2],"placeholder-class":"color-placeholder"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password","string"===typeof e?e.trim():e)},expression:"form.password"}})],1)],1)],1),n("v-uni-button",{staticClass:"h45 f15 flex-text bg-theme color-black mx20 mt30",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.formValidate.apply(void 0,arguments)}}},[t._v(t._s(t.i18n.login))])],1),n("v-uni-view",{staticClass:"f13 mt15",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.pushPage("/pages/login/forget")}}},[t._v(t._s(t.i18n.forget)+"?")]),n("v-uni-view",{staticClass:"f13 mt80"},[t._v(t._s(t.i18n.text)),n("v-uni-text",{staticClass:"color-theme ml5",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.pushPage("/pages/login/register")}}},[t._v(t._s(t.i18n.register))])],1)],1),n("v-uni-view",{staticClass:"cu-modal bottom-modal",class:"bottomModal"==t.modalName?"show":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.HideModal.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"cu-dialog bg-transparent",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[n("v-uni-view",{staticClass:"mx10"},[n("v-uni-view",{staticClass:"bg-background radius-5 px10"},[t.showLoading&&0==t.accountList.length?n("v-uni-view",{staticClass:"h45 flex-text f13"},[n("v-uni-button",{staticClass:"f13 h30 bg-transparent border-none mr-none pl0 pr5",attrs:{loading:!0}}),t._v(t._s(t.i18n.loading))],1):t._e(),t.showLoading||0!=t.accountList.length?t._e():n("v-uni-view",{staticClass:"h45 flex-text f13",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.pushPage("/pages/login/register")}}},[t._v(t._s(t.i18n.tips))]),t._l(t.accountList,(function(e,o){return n("v-uni-view",{key:o,staticClass:"h45 flex-text border-white-3 f13",class:0!=o?"solid-top":"",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.chooseAccount(e)}}},[t._v(t._s(e.name))])}))],2),n("v-uni-view",{staticClass:"h45 radius-5 bg-background flex-text mt5 mb10",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.HideModal.apply(void 0,arguments)}}},[t._v(t._s(t.i18n.cancel))])],1)],1)],1)],1)},i=[];n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o}))}}]);